title: 峰谷电计算
author: hojun
avatar: https://wx1.sinaimg.cn/large/006bYVyvgy1ftand2qurdj303c03cdfv.jpg
authorDesc: 一个好奇的人
categories: 生活
date: 2018-05-26 23:41:34
authorLink: /about/hojun.html
authorAbout:
tags:
 - 其他
keywords:
description:
photos:
---
{% raw %}
<style>
  .field{
    width: 100%;
    margin: 20px 0 0 0;
    font-size: 18px;
  }
  .calc{
    height: 30px;
    width: 80px;
    text-align: center;
    margin: 40px 0 0 20px;
    background: #7bc549;
    border: none;
    color: #fff;
  }
  .fee{
    color: #ff763b;
    font-weight: 700;
  }
  .pv-fee{
    color: #7bc549;
    font-weight: 700;
  }
</style>
<div class="field">总电量:<input type="" name="total"></div>
<div class="field">峰电量:<input type="" name="peak"></div>
<hr>
<div class="field"><div class="calc">计算</div></div>
<div class="field">不执行峰谷总费用:<span class="fee"></span></div>
<div class="field">执行峰谷总费用:<span class="pv-fee"></span></div>
<script src="/js/jquery.min.js"></script>
<script>
  $(function(){
    $('body').on('click', '.calc', function() {
      var t_price = 0.538;
      var p_price = 0.568;
      var v_price = 0.288;
      var total = Number($("input[name='total']").val());
      var peak = Number($("input[name='peak']").val());
      var fee = (total * (1000 * t_price)) / 1000;
      var pv_fee = (Number(peak * (1000 * p_price)) + Number((total - peak) * (1000 * v_price)))/1000;
      $('.fee').html(fee);
      $('.pv-fee').html(pv_fee);
    })
  });
</script>
{% endraw %}