title: 给博客添加网易云跟帖评论
author: hojun
avatar: https://wx1.sinaimg.cn/large/006bYVyvgy1ftand2qurdj303c03cdfv.jpg
authorDesc: 一个好奇的人
categories: 技术
series: hexo折腾
date: 2017-07-03 22:10:57
authorLink: /about/hojun.html
authorAbout:
tags:
 - blog
keywords: 博客添加网易云跟帖
description:
photos:
 - https://wx3.sinaimg.cn/orj360/006bYVyvgy1fh83qsruxnj30hg0fdgtz.jpg
---
## **为啥使用网易云跟帖？**
![006bYVyvgy1fh83qsruxnj30hg0fdgtz.jpg](https://wx3.sinaimg.cn/mw690/006bYVyvgy1fh83qsruxnj30hg0fdgtz.jpg)
多说不能用了，自己正好有个域名<font color="red">（注:网易云跟帖只能使用一级域名。[honjun.github.io这种是二级域名]）</font>
## **第一步注册**
<font size="100px">不告诉你</font>
## **第二步填写站点信息**
![006bYVyvgy1fh9fvzrrrij30xk0f0gly.jpg](https://wx1.sinaimg.cn/large/006bYVyvgy1fh9fvzrrrij30xk0f0gly.jpg)
## **第三步获取代码**
![006bYVyvgy1fh9fuc4a9aj30xk0ftwfs.jpg](https://wx1.sinaimg.cn/large/006bYVyvgy1fh9fuc4a9aj30xk0ftwfs.jpg)
## **第四步使用代码**
在对应模板文件评论地方加上网易云跟帖的代码
比如jsimple模板在<font color="#2ecc71">\themes\jsimple\layout\_partial\comments.ejs</font>
```js
<% if (config.netease && page.comments) { %>
    <div id="cloud-tie-wrapper" class="cloud-tie-wrapper"></div>
    <script>
      var cloudTieConfig = {
        url: document.location.href,
        sourceId: "",
        productKey: "<%=config.netease %>",
        target: "cloud-tie-wrapper"
      };
    </script>
    <script src="https://img1.cache.netease.com/f2e/tie/yun/sdk/loader.js"></script>
<% } %>
```
为了方便，productKey写在hexo配置文件中
```
# 网易云跟帖
netease: hahahahahahahahahahahaha
```
## **第四步优化css**
添加night版的css
```css
.night-mode #yun-tie-sdk-wrap ,.night-mode #yun-tie-sdk-wrap .tie-title-bar .tie-title{
    background: #373737;
    color: #b1b1b1;
}
.night-mode #yun-tie-sdk-wrap .input-box {
    border: solid 1px #3f3f3f;
}
.night-mode #yun-tie-sdk-wrap .input-box.z-fcs{
    border-color: #5f5f5f;
}
.night-mode #yun-tie-sdk-wrap .tie-title-bar .active-wrap .tie-join-txt {
    color: #b1b1b1;
}
.night-mode #yun-tie-sdk-wrap .input-box .tie-submit-row {
    position: relative;
    height: 40px;
    background-color: #3f3f3f;
}
.night-mode #yun-tie-sdk-wrap .single-tie {
    background-color: #3f3f3f;
    border-top: solid 1px #5f5f5f;
}
.night-mode #yun-tie-sdk-wrap .single-tie:hover {
    background-color: #5f5f5f;
}
.night-mode #yun-tie-sdk-wrap .tie-tab-bar li.z-fcs {
    border: solid 1px #5f5f5f;
    background-color: #3f3f3f;
}
.night-mode #yun-tie-sdk-wrap .tie-tab-bar {
    border-bottom: solid 1px #5f5f5f;
}
.night-mode #yun-tie-sdk-wrap .no-more {
    border-top: solid 1px #5f5f5f;
}
```
上面是pc版的，至于移动端 >_> 一个深坑。它html代码在跨域iframe中，当前域的css影响不到。博主这在试着用js解决这问题，目前只能先将就一下。by-17/7/3

## **To Be Continued**