title: 给博客添加图集展示
author: hojun
avatar: /images/favicon.png
authorDesc: 一个好奇的人
categories: 技术
series: hexo折腾
date: 2018-04-24 23:04:40
authorLink:
authorAbout:
tags:
 - hexo
 - lab
 - 图集
keywords: 图集
description: 拖了这么久，决定用fancybox.js来搞个图集凑合凑合
photos:
 - https://wx1.sinaimg.cn/small/006bYVyvgy1fsegct5pkcj30xs0hfae7.jpg
---
嗯。。。。。没想好怎么做

---

## 前言

拖了这么久，决定用fancybox.js来搞个图集凑合凑合*@(想一想)*

## 简单了解fancybox

[参照官网](https://fancyapps.com/fancybox/3/)
官网介绍如下：JavaScript lightbox library for presenting various types of media. Responsive, touch-enabled and customizable.*@(doge)**@(doge)**@(doge)*看不懂的路过

这里我们使用fancybox3，首页点击下载
![](https://wx1.sinaimg.cn/large/006bYVyvgy1fsegct5pkcj30xs0hfae7.jpg)
往下拉可查看demo效果
![](https://wx2.sinaimg.cn/large/006bYVyvgy1fsegcsm25kj30y50hc139.jpg)
下载至桌面，解压得到该文件夹。
![](https://wx4.sinaimg.cn/large/006bYVyvgy1fsegcrtat7j30iy0i275u.jpg)
浏览器下打开该文件，阅读文档
![](https://wx2.sinaimg.cn/large/006bYVyvgy1fsegcr8vpwj30ix0i1t9v.jpg)
在How to Use下面查阅代码例子
![](https://wx2.sinaimg.cn/large/006bYVyvgy1fsegcqoqiaj30zk0i540v.jpg)
```html
<a href="image_1.jpg" data-fancybox="gallery" data-caption="Caption #1">
  <img src="thumbnail_1.jpg" alt="" />
</a>

<a href="image_2.jpg" data-fancybox="gallery" data-caption="Caption #2">
  <img src="thumbnail_2.jpg" alt="" />
</a>

//我们需要的基本代码就是这样
<script>
$('[data-fancybox="gallery"]').fancybox({
  // Options will go here
});
</script>
```
在Options下查看fancybox的一些参数
![](https://wx3.sinaimg.cn/large/006bYVyvgy1fsegcpzmk3j30yq0gpwfm.jpg)
## 在hexo博客中使用fancybox

### 方案一
在文章.md文件中使用raw标签直接插入如下代码：
```html
<link rel="stylesheet" href="jquery.fancybox.min.css">
<a href="image_1.jpg" data-fancybox="gallery" data-caption="Caption #1">
  <img src="thumbnail_1.jpg" alt="" />
</a>

<a href="image_2.jpg" data-fancybox="gallery" data-caption="Caption #2">
  <img src="thumbnail_2.jpg" alt="" />
</a>

<script src="jquery.fancybox.min.js"></script>
<script>
$('[data-fancybox="gallery"]').fancybox({
  // Options will go here
});
</script>
```
这种方法有些太麻烦了，于是有了方案二。

### 方案二
在文章.md文件中使用raw标签直接插入如下代码:
```html
<img class="hj_img" src="https://wx1.sinaimg.cn/large/006bYVyvgy1fr0tc3y3avj31kw0vzqv5.jpg">
<img class="hj_img" src="https://wx4.sinaimg.cn/large/006bYVyvgy1fr0ufullbkj31kw0vz4qq.jpg">
<img class="hj_img" src="https://wx4.sinaimg.cn/large/006bYVyvgy1fr0ug1074xj31kw0vr4qp.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fr0ugfyw4aj31kw0vue82.jpg">
<img class="hj_img" src="https://wx4.sinaimg.cn/large/006bYVyvgy1fr0ug8ds8xj31kw0vxqv5.jpg">
```
接着使用js给他转换成需要的格式。
博主是在footer的模板下插入如下代码
```js
//前面需要引入fancybox的css和js，这里省略
<secrpt>
(function() {
  //前面部分是判断是标签否为图集的文章，根据需求可以舍弃
  var arr = new Array();
  var $tags = $('.post-tags').children('a');
  $tags.each(function() {
    arr.push($(this).html())
  })
  if (arr.indexOf("图集") !== -1) {
    //如果是图集
    $('.hj_img').each(function() {
      $(this).wrap('<a class="fancybox" data-fancybox="gallery" href="' + $(this).prop("src") + '"></a>'); 
    })
    //初始化fancybox，padding设为0，loop设为false
    $('.fancybox').fancybox({
      padding: 0,
      loop: false
    });
  }
})();
</script>
```

### 方案三

这里只提供个思路，因为方案二版的实现很简便，就没去折腾了。

大致思路即是修改maked.js生成渲染的规则，根据图集图片的特定标志，识别出来，把需要的a标签渲染出来。直接生成文件。

实现过程可参照我之前的两篇文章[OwO-可爱的js表情符号插件](https://www.hojun.cn/2018/04/22/OwO-%E5%8F%AF%E7%88%B1%E7%9A%84js%E8%A1%A8%E6%83%85%E7%AC%A6%E5%8F%B7%E6%8F%92%E4%BB%B6/)和[Lozad.js学习使用](https://www.hojun.cn/2017/11/15/Lozad-js%E5%AD%A6%E4%B9%A0%E4%BD%BF%E7%94%A8/)


## 终·效果预览

### 安利一波 动漫 《K》


{% raw %}
<img class="hj_img" src="https://wx4.sinaimg.cn/large/006bYVyvgy1fsegnd08yuj30xc1b446g.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegnfmy6ej30go0q40uq.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegnbb6kgj30go0quac7.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegnehstlj30jg0dsgmu.jpg">
<img class="hj_img" src="https://wx3.sinaimg.cn/large/006bYVyvgy1fsegn9bgldj30hs0dcmz9.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegn87jtsj30jg0e1jt8.jpg">
<img class="hj_img" src="https://wx3.sinaimg.cn/large/006bYVyvgy1fsegh7wng6j31ha0tywlt.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegh62sqrj30qo0m8mzl.jpg">
<img class="hj_img" src="https://wx2.sinaimg.cn/large/006bYVyvgy1fsegh3ot0yj30xc0n6q68.jpg">
<img class="hj_img" src="https://wx3.sinaimg.cn/large/006bYVyvgy1fsegh20z9sj33ri2ni4mu.jpg">
{% endraw %}